# عیب‌یابی و رفع خطا (Troubleshooting)

اگر در استفاده از «دبیر» به مشکلی برخوردید، این راهنما می‌تواند به شما کمک کند.

## پیام‌های خطا در کنسول

«دبیر» از یک فرمت استاندارد برای لاگ کردن خطاها استفاده می‌کند: `Dabir.js Error: [پیام خطا]`.

### ۱. `Invalid selector` یا `Element not found`
-   **علت:** سلکتوری که به `new DabirEditor()` پاس داده‌اید، در صفحه پیدا نشد.
-   **راه‌حل:** مطمئن شوید اسکریپت شما بعد از بارگذاری HTML اجرا می‌شود (مثلاً داخل `DOMContentLoaded`) و ID یا کلاس المان صحیح است.

### ۲. `Plugin must implement the static install method`
-   **علت:** کلاسی که به عنوان پلاگین معرفی کرده‌اید، ساختار استاندارد را ندارد.
-   **راه‌حل:** مطمئن شوید پلاگین شما از کلاس پایه `Plugin` ارث‌بری کرده و متد `static install(editor)` را دارد.

### ۳. `InputHandler crashed` یا `Renderer crashed`
-   **علت:** یک خطای غیرمنتظره در هنگام تایپ یا رندر رخ داده است.
-   **رفتار:** ویرایشگر خطا را مهار کرده و سعی می‌کند به کار ادامه دهد. جزئیات خطا در کنسول ثبت می‌شود. لطفا این جزئیات را برای توسعه‌دهنده ارسال کنید.

## مشکلات رایج

### تغییرات من ذخیره نمی‌شود
1.  بررسی کنید که گزینه `storage.enabled` روی `false` تنظیم نشده باشد.
2.  بررسی کنید که مرورگر شما اجازه دسترسی به `localStorage` را می‌دهد (در حالت Incognito/Private گاهی غیرفعال است).
3.  کلید `storage.key` را بررسی کنید تا با سایر ویرایشگرها تداخل نداشته باشد.

### ویرایشگر کند است
-   اگر متن بسیار طولانی دارید، این طبیعی است. «دبیر» برای متن‌های خیلی طولانی (کتاب‌های حجیم) بهینه‌سازی نشده است.
-   اگر پلاگین‌های زیادی دارید، سعی کنید آن‌ها را موقتاً غیرفعال کنید تا منبع کندی پیدا شود.

### ویرایشگر بعد از رفتن به صفحه دیگر خطا می‌دهد
-   **علت:** نشت حافظه و اجرای کد روی المانی که دیگر وجود ندارد.
-   **راه‌حل:** مطمئن شوید که متد `editor.destroy()` را قبل از حذف ویرایشگر صدا می‌زنید (مخصوصاً در React/Vue).
